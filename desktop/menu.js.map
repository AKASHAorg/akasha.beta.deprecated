{"version":3,"file":"menu.js","sourceRoot":"","sources":["menu.ts"],"names":[],"mappings":"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","sourcesContent":["import { app, Menu, session, shell } from 'electron';\n\nconst installExtensions = async () => {\n  if (process.env.NODE_ENV === 'development') {\n    const installer = require('electron-devtools-installer'); // eslint-disable-line global-require\n\n    const extensions = [\n      'REACT_DEVELOPER_TOOLS',\n      'REDUX_DEVTOOLS',\n    ];\n    const forceDownload = !!process.env.UPGRADE_EXTENSIONS;\n    for (const name of extensions) {\n      try {\n        await installer.default(installer[name], forceDownload);\n      } catch (e) {\n      } // eslint-disable-line\n    }\n  }\n};\n\nexport async function initMenu(mainWindow: any) {\n  await installExtensions();\n\n  if (process.env.NODE_ENV === 'development') {\n    mainWindow.openDevTools();\n    mainWindow.webContents.on('context-menu', (e: any, props: any) => {\n      const { x, y } = props;\n\n      Menu.buildFromTemplate([{\n        label: 'Inspect element',\n        click() {\n          mainWindow.inspectElement(x, y);\n        },\n      }]).popup(mainWindow);\n    });\n  }\n  const version = app.getVersion();\n  const template: any = [\n    {\n      label: 'Edit',\n      submenu: [\n        {\n          role: 'undo',\n        },\n        {\n          role: 'redo',\n        },\n        {\n          type: 'separator',\n        },\n        {\n          role: 'cut',\n        },\n        {\n          role: 'copy',\n        },\n        {\n          role: 'paste',\n        },\n        {\n          role: 'pasteandmatchstyle',\n        },\n        {\n          type: 'separator',\n        },\n        {\n          role: 'delete',\n        },\n        {\n          role: 'selectall',\n        },\n      ],\n    },\n    {\n      label: 'View',\n      submenu: [\n        {\n          role: 'reload',\n        },\n        {\n          role: 'togglefullscreen',\n        },\n        {\n          type: 'separator',\n        },\n        {\n          role: 'resetzoom',\n        },\n        {\n          role: 'zoomin',\n        },\n        {\n          role: 'zoomout',\n        },\n      ],\n    },\n    {\n      role: 'window',\n      submenu: [\n        {\n          role: 'minimize',\n        },\n        {\n          role: 'close',\n        },\n      ],\n    },\n    {\n      role: 'help',\n      submenu: [\n        {\n          label: 'Learn More',\n          click() {\n            shell.openExternal('http://akasha.helpscoutdocs.com/');\n          },\n        },\n        {\n          label: 'Report Issue',\n          click() {\n            shell.openExternal('https://github.com/AkashaProject/dapp/issues/new');\n          },\n        },\n        {\n          type: 'separator',\n        },\n        {\n          label: 'Clear Cache',\n          click() {\n            session.defaultSession.clearCache(function () {\n              console.log('cleared cache');\n            });\n          },\n        }\n        ,\n        {\n          label: 'Reset App Data',\n          click() {\n            session.defaultSession.clearStorageData(null, function () {\n              console.log('cleared storage app data');\n            });\n          },\n        },\n        {\n          type: 'separator',\n        },\n        {\n          label: 'About AKASHA',\n          click() {\n            shell.openExternal('http://akasha.world');\n          },\n        },\n        {\n          label: `Version ${version}`,\n        },\n      ],\n    },\n  ];\n\n  if (process.platform === 'darwin') {\n    template.unshift({\n      label: app.getName(),\n      submenu: [\n        {\n          role: 'about',\n        },\n        {\n          type: 'separator',\n        },\n        {\n          role: 'services',\n          submenu: [],\n        },\n        {\n          type: 'separator',\n        },\n        {\n          role: 'hide',\n        },\n        {\n          role: 'hideothers',\n        },\n        {\n          role: 'unhide',\n        },\n        {\n          type: 'separator',\n        },\n        {\n          role: 'quit',\n        },\n      ],\n    });\n    // Window menu.\n    template[3].submenu = [\n      {\n        label: 'Close',\n        accelerator: 'CmdOrCtrl+W',\n        role: 'close',\n      },\n      {\n        label: 'Minimize',\n        accelerator: 'CmdOrCtrl+M',\n        role: 'minimize',\n      },\n      {\n        label: 'Zoom',\n        role: 'zoom',\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Bring All to Front',\n        role: 'front',\n      },\n    ];\n  }\n\n  const menu = Menu.buildFromTemplate(template);\n  Menu.setApplicationMenu(menu);\n}\n"]}