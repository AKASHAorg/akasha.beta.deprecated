{"version":3,"file":"start.js","sourceRoot":"","sources":["start.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,OAAO,MAAM,UAAU,CAAC;AACpC,OAAO,EAAE,WAAW,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AAE3E,MAAM,CAAC,OAAO,UAAU,IAAI,CAAC,EAAE,EAAE,UAAU;IACzC,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC;QACzC,MAAM,OAAO,GAAG,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACjD,MAAM,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;QAmBzD,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QACjD,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAChC,CAAC,CAAC,CAAC;IACH,MAAM,YAAY,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC;IACvD,MAAM,OAAO,GAAG;QACd,OAAO,YAAY,CAAC;IACtB,CAAC,CAAC;IACF,EAAE,EAAE,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IAChD,OAAO,YAAY,CAAC;AACtB,CAAC","sourcesContent":["import * as Promise from 'bluebird';\nimport { CORE_MODULE, GETH_MODULE } from '@akashaproject/common/constants';\n\nexport default function init(sp, getService) {\n  const execute = Promise.coroutine(function* () {\n    const web3Api = getService(CORE_MODULE.WEB3_API);\n    const connected = web3Api.instance.eth.net.isListening();\n    // @TODO: reimplement this at app lvl\n    // if (!connected) {\n    // web3Api.instance = regenWeb3();\n    // connected = web3Api.instance.isConnected();\n    // }\n    // if (connected) {\n    //     gethStatus.process = true;\n    //     gethStatus.api = true;\n    //     gethStatus.version = yield web3Api.instance.version.getNodeAsync();\n    //     gethStatus.networkID = yield web3Api.instance.version.getNetworkAsync();\n\n    // @TODO: reimplement this at app lvl\n    // const accounts = yield web3Api.instance.eth.getAccountsAsync();\n    // if (accounts.length) {\n\n    // gethStatus.ethKey = accounts[0];\n    // }\n    // }\n    yield (getService(CORE_MODULE.CONTRACTS)).init();\n    return { started: connected };\n  });\n  const startService = { execute, name: 'startService' };\n  const service = function () {\n    return startService;\n  };\n  sp().service(GETH_MODULE.startService, service);\n  return startService;\n}\n"]}