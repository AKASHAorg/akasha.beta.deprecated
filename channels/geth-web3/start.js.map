{"version":3,"file":"start.js","sourceRoot":"","sources":["start.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AACpC,+DAA2E;AAE3E,SAAwB,IAAI,CAAC,EAAE,EAAE,UAAU;IACzC,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC;QACzC,MAAM,MAAM,GAAG,UAAU,CAAC,uBAAW,CAAC,WAAW,CAAC,CAAC;QACnD,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,EAAE,CAAC;QAmBrC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAC9B,MAAM,CAAC,UAAU,CAAC,uBAAW,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QACjD,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACtC,CAAC,CAAC,CAAC;IACH,MAAM,YAAY,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC;IACvD,MAAM,OAAO,GAAG;QACd,OAAO,YAAY,CAAC;IACtB,CAAC,CAAC;IACF,EAAE,EAAE,CAAC,OAAO,CAAC,uBAAW,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IAChD,OAAO,YAAY,CAAC;AACtB,CAAC;AAhCD,uBAgCC","sourcesContent":["import * as Promise from 'bluebird';\nimport { CORE_MODULE, GETH_MODULE } from '@akashaproject/common/constants';\n\nexport default function init(sp, getService) {\n  const execute = Promise.coroutine(function* () {\n    const helper = getService(CORE_MODULE.WEB3_HELPER);\n    const status = yield helper.inSync();\n    // @TODO: reimplement this at app lvls\n    // if (!connected) {\n    // web3Api.instance = regenWeb3();\n    // connected = web3Api.instance.isConnected();\n    // }\n    // if (connected) {\n    //     gethStatus.process = true;\n    //     gethStatus.api = true;\n    //     gethStatus.version = yield web3Api.instance.version.getNodeAsync();\n    //     gethStatus.networkID = yield web3Api.instance.version.getNetworkAsync();\n\n    // @TODO: reimplement this at app lvl\n    // const accounts = yield web3Api.instance.eth.getAccountsAsync();\n    // if (accounts.length) {\n\n    // gethStatus.ethKey = accounts[0];\n    // }\n    // }\n    console.log('status', status);\n    yield (getService(CORE_MODULE.CONTRACTS)).init();\n    return { started: !!status.length };\n  });\n  const startService = { execute, name: 'startService' };\n  const service = function () {\n    return startService;\n  };\n  sp().service(GETH_MODULE.startService, service);\n  return startService;\n}\n"]}