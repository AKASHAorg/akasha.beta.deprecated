{"version":3,"file":"Votes.js","sourceRoot":"","sources":["Votes.ts"],"names":[],"mappings":"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","sourcesContent":["import BaseContract from './BaseContract';\nimport * as Promise from 'bluebird';\n\nexport default class Votes extends BaseContract {\n    /**\n     *\n     * @param instance\n     */\n    constructor(instance: any) {\n        super();\n        this.contract = instance;\n        this.contract.getVoteCost.callAsync = Promise.promisify(this.contract.getVoteCost.call);\n        this.contract.getVotesCount.callAsync = Promise.promisify(this.contract.getVotesCount.call);\n        this.contract.getFirstVoteId.callAsync = Promise.promisify(this.contract.getFirstVoteId.call);\n        this.contract.getLastVoteId.callAsync = Promise.promisify(this.contract.getLastVoteId.call);\n        this.contract.getNextVoteId.callAsync = Promise.promisify(this.contract.getNextVoteId.call);\n        this.contract.getPrevVoteId.callAsync = Promise.promisify(this.contract.getPrevVoteId.call);\n        this.contract.getVoteOf.callAsync = Promise.promisify(this.contract.getVoteOf.call);\n        this.contract.getScore.callAsync = Promise.promisify(this.contract.getScore.call);\n        this.contract.getVoteOfProfile.callAsync = Promise.promisify(this.contract.getVoteOfProfile.call);\n    }\n\n    /**\n     *\n     * @param entryId\n     * @param weight\n     * @param gas\n     * @param value\n     * @returns {Bluebird<R>}\n     */\n    upvote(entryId: string, weight: number, value: string, gas: number = 2000000) {\n        value = this.gethInstance.web3.toWei(value, 'ether');\n        return Promise.resolve(this.extractData('upvote', weight, entryId, { gas, value }));\n    }\n\n    /**\n     *\n     * @param entryId\n     * @param weight\n     * @param gas\n     * @param value\n     * @returns {Bluebird<R>}\n     */\n    downvote(entryId: string, weight: number, value: string, gas: number = 2000000) {\n        value = this.gethInstance.web3.toWei(value, 'ether');\n        return Promise.resolve(this.extractData('downvote', weight, entryId, { gas, value }));\n    }\n\n    /**\n     *\n     * @param weight\n     * @returns {any}\n     */\n    getVoteCost(weight: number) {\n        return this.contract\n            .getVoteCost\n            .callAsync(weight)\n            .then((cost) => (this.gethInstance.web3.fromWei(cost, 'ether')).toString(10))\n    }\n\n    /**\n     *\n     * @param entryId\n     * @returns {any}\n     */\n    getVotesCount(entryId: string) {\n        return this.contract\n            .getVotesCount\n            .callAsync(entryId)\n            .then((result) => result.toNumber());\n    }\n\n    /**\n     *\n     * @param entryId\n     * @returns {any}\n     */\n    getFirstVoteId(entryId: string) {\n        return this.contract\n            .getFirstVoteId\n            .callAsync(entryId)\n            .then((result) => {\n\n                return result.toString()\n            });\n    }\n\n    /**\n     *\n     * @param entryId\n     * @returns {any}\n     */\n    getLastVoteId(entryId: string) {\n        return this.contract\n            .getLastVoteId\n            .callAsync(entryId)\n            .then((result) => result.toString());\n    }\n\n    /**\n     *\n     * @param entryId\n     * @param voteId\n     * @returns {any}\n     */\n    getNextVoteId(entryId: string, voteId: string) {\n        return this.contract\n            .getNextVoteId\n            .callAsync(entryId, voteId)\n            .then((result) => result.toString());\n    }\n\n    /**\n     *\n     * @param entryId\n     * @param voteId\n     * @returns {any}\n     */\n    getPrevVoteId(entryId: string, voteId: string) {\n        return this.contract\n            .getPrevVoteId\n            .callAsync(entryId, voteId)\n            .then((result) => result.toString());\n    }\n\n    /**\n     *\n     * @param entryId\n     * @param voteId\n     * @returns {any}\n     */\n    getVoteOf(entryId: string, voteId: string) {\n        return this.contract\n            .getVoteOf\n            .callAsync(entryId, voteId)\n            .then((result) => {\n                return { profile: result[0], score: (result[1]).toString() };\n            });\n    }\n\n    /**\n     *\n     * @param entryId\n     * @param akashaId\n     * @returns {any}\n     */\n    getVoteOfProfile(entryId: string, akashaId: string) {\n        return this.contract\n            .getVoteOfProfile\n            .callAsync(entryId, akashaId)\n            .then((result) => result.toNumber());\n\n    }\n\n    /**\n     *\n     * @param entryId\n     * @returns {any}\n     */\n    getScore(entryId: string) {\n        return this.contract\n            .getScore\n            .callAsync(entryId)\n            .then((result) => result.toString());\n    }\n}\n"]}