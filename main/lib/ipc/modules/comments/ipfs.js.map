{"version":3,"file":"ipfs.js","sourceRoot":"","sources":["ipfs.ts"],"names":[],"mappings":";AAAA,iCAA8B,+BAA+B,CAAC,CAAA;AAC9D,0BAAyB,mBAAmB,CAAC,CAAA;AAO7C,gBAAuB,IAAI;IACvB,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;IACnC,MAAM,WAAW,GAAG;QAChB,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,IAAI;KACP,CAAC;IACF,MAAM,CAAC,8BAAa,CAAC,WAAW,EAAE,CAAC,GAAG;SACjC,GAAG,CAAC,WAAW,CAAC;SAChB,IAAI,CAAC,CAAC,IAAY,KAAK,IAAI,CAAC,CAAA;AACrC,CAAC;AATe,cAAM,SASrB,CAAA;AAQD,2BAAkC,IAAI;IAClC,EAAE,CAAC,CAAC,kBAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACjC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,kBAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3D,CAAC;IACD,MAAM,CAAC,8BAAa,CAAC,WAAW,EAAE,CAAC,GAAG;SACjC,GAAG,CAAC,IAAI,CAAC;SACT,IAAI,CAAC,CAAC,IAAI;QACP,kBAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,CAAA;AACV,CAAC;AAVe,yBAAiB,oBAUhC,CAAA","sourcesContent":["import { IpfsConnector } from '@akashaproject/ipfs-connector';\nimport { comments } from '../models/records';\n\n/**\n *\n * @param data\n * @returns {any}\n */\nexport function create(data) {\n    const date = (new Date()).toJSON();\n    const constructed = {\n        content: data.content,\n        date\n    };\n    return IpfsConnector.getInstance().api\n        .add(constructed)\n        .then((hash: string) => hash)\n}\n\n\n/**\n *\n * @param hash\n * @returns {any}\n */\nexport function getCommentContent(hash) {\n    if (comments.records.getFull(hash)) {\n        return Promise.resolve(comments.records.getFull(hash));\n    }\n    return IpfsConnector.getInstance().api\n        .get(hash)\n        .then((data) => {\n            comments.records.setFull(hash, data);\n            return data;\n        })\n}\n\n"]}