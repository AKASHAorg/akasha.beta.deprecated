{"version":3,"file":"ipfs.js","sourceRoot":"","sources":["ipfs.ts"],"names":[],"mappings":";AAAA,iCAA8B,+BAA+B,CAAC,CAAA;AAC9D,0BAAyB,mBAAmB,CAAC,CAAA;AAC7C,2BAA+B,uBAAuB,CAAC,CAAA;AAOvD,gBAAuB,IAAI;IACvB,MAAM,IAAI,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;IACnC,MAAM,WAAW,GAAG;QAChB,OAAO,EAAE,IAAI;QACb,IAAI;KACP,CAAC;IACF,MAAM,CAAC,8BAAa,CAAC,WAAW,EAAE,CAAC,GAAG;SACjC,GAAG,CAAC,WAAW,CAAC;SAChB,IAAI,CAAC,CAAC,MAAW,KAAK,MAAM,CAAC,IAAI,CAAC,CAAA;AAC3C,CAAC;AATe,cAAM,SASrB,CAAA;AAQD,2BAAkC,IAAI;IAClC,EAAE,CAAC,CAAC,kBAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,kBAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IACnD,CAAC;IACD,MAAM,CAAC,8BAAa,CAAC,WAAW,EAAE,CAAC,GAAG;SACjC,GAAG,CAAC,IAAI,CAAC;SACT,OAAO,CAAC,yBAAc,CAAC;SACvB,IAAI,CAAC,CAAC,IAAI;QACP,kBAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAA;AAC7B,CAAC;AAXe,yBAAiB,oBAWhC,CAAA","sourcesContent":["import { IpfsConnector } from '@akashaproject/ipfs-connector';\nimport { comments } from '../models/records';\nimport { FULL_WAIT_TIME } from '../../config/settings';\n\n/**\n *\n * @param data\n * @returns {any}\n */\nexport function create(data) {\n    const date = (new Date()).toJSON();\n    const constructed = {\n        content: data,\n        date\n    };\n    return IpfsConnector.getInstance().api\n        .add(constructed)\n        .then((result: any) => result.hash)\n}\n\n\n/**\n *\n * @param hash\n * @returns {any}\n */\nexport function getCommentContent(hash) {\n    if (comments.getFull(hash)) {\n        return Promise.resolve(comments.getFull(hash));\n    }\n    return IpfsConnector.getInstance().api\n        .get(hash)\n        .timeout(FULL_WAIT_TIME)\n        .then((data) => {\n            comments.setFull(hash, data);\n            return data;\n        }).catch((e) => null)\n}\n\n"]}