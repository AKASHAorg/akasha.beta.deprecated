{"version":3,"file":"fetch.js","sourceRoot":"","sources":["fetch.ts"],"names":[],"mappings":";AAAA,MAAY,OAAO,WAAM,UAAU,CAAC,CAAA;AACpC,2BAAuB,YAAY,CAAC,CAAA;AACpC,iCAA8B,+BAA+B,CAAC,CAAA;AAE9D,IAAI,IAAI,CAAC;AACT,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,WAAU,IAAwB,EAAE,EAAO;IACzE,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC;QAClB,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,IAAI,GAAG,8BAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,iBAAM,EAAE,CAAC,CAAC;IACvE,IAAI,CAAC,KAAK,CAAC,UAAS,GAAG,EAAE,IAAI;QACzB,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AAC1B,CAAC,CAAC,CAAC;AAEH;kBAAe,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC","sourcesContent":["import * as Promise from 'bluebird';\nimport { TOPICS } from './settings';\nimport { GethConnector } from '@akashaproject/geth-connector';\n\nlet chat;\nconst execute = Promise.coroutine(function*(data: { stop?: boolean }, cb: any) {\n    if (data.stop && chat) {\n        chat.stopWatching(() => {\n        });\n        return { post: null };\n    }\n\n    chat = GethConnector.getInstance().web3.shh.filter({ topics: TOPICS });\n    chat.watch(function(err, data){\n        cb(err, JSON.parse(data));\n    });\n    return { post: true };\n});\n\nexport default { execute, name: 'fetch' };\n"]}