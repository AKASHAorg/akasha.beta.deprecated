{"version":3,"file":"TagIPC.test.js","sourceRoot":"","sources":["TagIPC.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { ipcMain } from 'electron';\nimport TagsIPC from '../lib/ipc/TagsIPC';\nimport { expect } from 'chai';\nimport channel from '../lib/channels';\nimport * as helpers from './helpers';\n\nclass TagsIPCtest extends TagsIPC {\n    public callTest: Map<string, any> = new Map();\n\n    public fireEvent(channel, data, event) {\n        const cb = this.callTest.get(channel);\n        return cb(helpers.fireEvent(channel, data, event));\n    }\n}\n\ndescribe('TagsIPC', function () {\n    this.timeout(60000);\n    let tagsChannel: TagsIPCtest;\n    let token: string;\n\n    before(function (done) {\n        expect(helpers.initLogger()).to.exist;\n        setTimeout(() => helpers.startServices(done), 400);\n    });\n\n    it('--constructs channel api', function () {\n        tagsChannel = new TagsIPCtest();\n        expect(tagsChannel).to.exist;\n    });\n\n    it('--can init listeneres', function () {\n        tagsChannel.initListeners(null);\n        expect(tagsChannel.listeners.size).to.be.above(0);\n    });\n\n    it('--waits for sync', function (done) {\n        helpers.checkSynced(done);\n    });\n\n    it('--should add to listened channels from #manager', function (done) {\n        let listenersNr = 0;\n        const listenOn = [\n            channel.server.tags.create,\n            channel.server.tags.getTagId,\n            channel.server.tags.getTagAt,\n            channel.server.tags.isSubscribed,\n            channel.server.tags.subscribe,\n            channel.server.tags.unsubscribe,\n            channel.server.tags.getSubPosition,\n            channel.server.tags.getTagsFrom,\n            channel.server.tags.getCreateError,\n            channel.server.tags.getTagsCreated,\n            channel.server.tags.getIndexedTag,\n            channel.server.tags.getIndexTagError\n        ];\n        tagsChannel.callTest.set(\n            channel.client.tags.manager,\n            (injected) => {\n                listenersNr++;\n                if (listenersNr === listenOn.length) {\n                    done()\n                }\n            }\n        );\n        listenOn.forEach((channelName) => {\n            ipcMain.emit(channel.server.tags.manager, '', { channel: channelName, listen: true });\n        });\n    });\n    it('--should get a token', function (done) {\n        helpers.getToken(done, {\n            account: helpers.mockedAddress,\n            password: helpers.pwd,\n            rememberTime: 4\n        }, (generated: string) => {\n            token = generated;\n        });\n    });\n    it('--#create', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.create,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tx).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.create, '', { token, tagName: 'cars' + new Date().getTime(), gas: 2000000 });\n    });\n\n    it('--#getTagId', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getTagId,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tagId).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getTagId, '', { tagName: 'cars' });\n    });\n\n    it('--#getTagAt', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getTagAt,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tagName).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getTagAt, '', { tagId: '2' });\n    });\n\n    it('--#getTagAt', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getTagAt,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tagName).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getTagAt, '', { tagId: 2 });\n    });\n\n    it('--#isSubscribed', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.isSubscribed,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.subscribed).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.isSubscribed, '', { tagId: helpers.tagId, address: helpers.profileAddress });\n    });\n\n    it('--#subscribe', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.subscribe,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tx).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.subscribe, '', { tagName: helpers.tagName, token, gas: 2000000 });\n    });\n\n    it('--#getSubPosition', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getSubPosition,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.position).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getSubPosition, '', { tagId: helpers.tagId, address: helpers.profileAddress });\n    });\n\n    it('--#unsubscribe', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.unsubscribe,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tx).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.unsubscribe, '', {\n            tagName: helpers.tagName,\n            subPosition: 0,\n            token,\n            gas: 2000000\n        });\n    });\n    it('--#getTagsFrom', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getTagsFrom,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.tags).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getTagsFrom, '', { from: 0, to: 10 });\n    });\n\n    it('--#getCreateError', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getCreateError,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.events).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getCreateError, '', { fromBlock: 0, address: helpers.profileAddress });\n    });\n\n    it('--#getTagsCreated', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getTagsCreated,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.collection).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getTagsCreated, '', { fromBlock: 0, address: helpers.profileAddress });\n    });\n\n    it('--#getIndexedTag', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getIndexedTag,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.events).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getIndexedTag, '', { fromBlock: 0, address: helpers.profileAddress });\n    });\n\n    it('--#getIndexTagError', function (done) {\n        tagsChannel.callTest.set(\n            channel.client.tags.getIndexTagError,\n            (injected) => {\n                expect(injected.data.data).to.exist;\n                expect(injected.data.data.events).to.exist;\n                done();\n            }\n        );\n        ipcMain.emit(channel.server.tags.getIndexTagError, '', { fromBlock: 0, address: helpers.profileAddress });\n    });\n    after(function (done) {\n        helpers.stopServices(done);\n    });\n});\n"]}